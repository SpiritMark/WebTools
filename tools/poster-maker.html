<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>海报制作 | 工具箱Pro</title>
    <meta name="description" content="使用我们的在线海报设计工具，轻松制作各种尺寸的精美海报、横幅和社交媒体图片。无需设计经验，免费使用。">
    <meta name="keywords" content="海报设计,海报制作,在线设计,banner制作,社交媒体图片">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/navigation.css">
    <link rel="stylesheet" href="../css/poster-maker.css">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="../index.html"><h1>工具箱<span>Pro</span></h1></a>
            </div>
            <nav class="main-nav">
                <button class="mobile-menu-btn" id="menuToggle">
                    <i class="ri-menu-line"></i>
                </button>
                <ul class="nav-list" id="navList">
                    <li><a href="../index.html">首页</a></li>
                    <li><a href="../index.html#tools">工具</a></li>
                    <li><a href="../index.html#about">关于</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="page-header">
        <div class="container">
            <h1>在线海报设计工具</h1>
            <p>轻松创建专业外观的海报、社交媒体图片、广告横幅等。使用我们提供的模板和自定义选项，快速设计出精美的视觉内容。</p>
        </div>
    </div>

    <div class="main-content">
        <div class="container">
            <div class="poster-tool-container">
                <!-- 工具栏 -->
                <div class="toolbar">
                    <div class="tool-section">
                        <h3>模板</h3>
                        <div class="template-selector">
                            <div class="template-btn" data-template="social-media">
                                <img src="img/templates/social-media.jpg" alt="社交媒体模板">
                                <span>社交媒体</span>
                            </div>
                            <div class="template-btn" data-template="ad">
                                <img src="img/templates/ad.jpg" alt="广告模板">
                                <span>广告</span>
                            </div>
                            <div class="template-btn" data-template="event">
                                <img src="img/templates/event.jpg" alt="活动海报">
                                <span>活动海报</span>
                            </div>
                            <div class="template-btn" data-template="custom">
                                <img src="img/templates/custom.jpg" alt="自定义">
                                <span>自定义</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-section">
                        <h3>尺寸</h3>
                        <div class="size-settings">
                            <select id="size-preset">
                                <option value="facebook-post">Facebook 帖子 (1200×630)</option>
                                <option value="instagram-post">Instagram 帖子 (1080×1080)</option>
                                <option value="twitter-post">Twitter 帖子 (1200×675)</option>
                                <option value="linkedin-post">LinkedIn 帖子 (1200×627)</option>
                                <option value="banner-ad">广告横幅 (728×90)</option>
                                <option value="a4">A4 尺寸 (794×1123)</option>
                                <option value="custom">自定义尺寸</option>
                            </select>
                            <div id="custom-size-inputs" style="display: none;">
                                <label>
                                    宽度 (px):
                                    <input type="number" id="width-input" min="50" max="3000" value="800">
                                </label>
                                <label>
                                    高度 (px):
                                    <input type="number" id="height-input" min="50" max="3000" value="600">
                                </label>
                                <button id="apply-custom-size">应用尺寸</button>
                            </div>
                        </div>
                    </div>

                    <div class="tool-section">
                        <h3>背景</h3>
                        <div class="background-settings">
                            <div class="bg-type-selector">
                                <label>
                                    <input type="radio" name="bg-type" value="color" checked>
                                    颜色
                                </label>
                                <label>
                                    <input type="radio" name="bg-type" value="gradient">
                                    渐变
                                </label>
                                <label>
                                    <input type="radio" name="bg-type" value="image">
                                    图片
                                </label>
                            </div>
                            
                            <div id="bg-color-panel" class="bg-panel">
                                <input type="color" id="bg-color-input" value="#ffffff">
                            </div>
                            
                            <div id="bg-gradient-panel" class="bg-panel" style="display: none;">
                                <label>
                                    颜色 1:
                                    <input type="color" id="gradient-color1" value="#4a90e2">
                                </label>
                                <label>
                                    颜色 2:
                                    <input type="color" id="gradient-color2" value="#f5a623">
                                </label>
                                <label>
                                    方向:
                                    <select id="gradient-direction">
                                        <option value="to-right">从左到右</option>
                                        <option value="to-bottom">从上到下</option>
                                        <option value="to-bottom-right">从左上到右下</option>
                                        <option value="to-bottom-left">从右上到左下</option>
                                    </select>
                                </label>
                                <button id="apply-gradient">应用渐变</button>
                            </div>
                            
                            <div id="bg-image-panel" class="bg-panel" style="display: none;">
                                <input type="file" id="bg-image-upload" accept="image/*">
                                <label>
                                    适应方式:
                                    <select id="bg-image-fit">
                                        <option value="cover">覆盖</option>
                                        <option value="contain">包含</option>
                                        <option value="repeat">重复</option>
                                    </select>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="tool-section">
                        <h3>添加元素</h3>
                        <div class="add-element-buttons">
                            <div class="element-category">
                                <h4>文本</h4>
                                <button class="add-text-btn" data-type="heading">添加标题</button>
                                <button class="add-text-btn" data-type="subheading">添加副标题</button>
                                <button class="add-text-btn" data-type="body">添加正文</button>
                            </div>
                            <div class="element-category">
                                <h4>形状</h4>
                                <button class="add-shape-btn" data-shape="rectangle">矩形</button>
                                <button class="add-shape-btn" data-shape="circle">圆形</button>
                                <button class="add-shape-btn" data-shape="triangle">三角形</button>
                            </div>
                            <div class="element-category">
                                <h4>其他</h4>
                                <button id="add-image">添加图片</button>
                                <input type="file" id="image-upload" accept="image/*" style="display: none;">
                            </div>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button id="reset-poster" class="tool-btn secondary">
                            <i class="ri-refresh-line"></i> 重置设计
                        </button>
                        <button id="download-poster" class="tool-btn">
                            <i class="ri-download-2-line"></i> 下载设计
                        </button>
                    </div>
                </div>
                
                <!-- 设计工作区 -->
                <div class="design-workspace">
                    <div class="canvas-container">
                        <div id="canvas" class="poster-canvas">
                            <div id="empty-canvas-message" class="empty-canvas-message">
                                <p>开始创建您的海报。</p>
                                <p>从左侧添加文本、形状或图片，或选择一个模板开始。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 元素编辑面板 -->
                    <div class="element-editor" style="display: none;">
                        <h3>元素属性</h3>
                        <div id="text-properties" class="property-group">
                            <label>
                                字体:
                                <select id="font-family">
                                    <option value="Arial, sans-serif">Arial</option>
                                    <option value="'Times New Roman', serif">Times New Roman</option>
                                    <option value="'Courier New', monospace">Courier New</option>
                                    <option value="Georgia, serif">Georgia</option>
                                    <option value="Verdana, sans-serif">Verdana</option>
                                    <option value="'Microsoft YaHei', sans-serif">微软雅黑</option>
                                    <option value="'SimSun', serif">宋体</option>
                                </select>
                            </label>
                            <label>
                                大小:
                                <input type="number" id="font-size" min="8" max="120" value="16">
                            </label>
                            <label>
                                颜色:
                                <input type="color" id="font-color" value="#000000">
                            </label>
                            <div class="text-style-buttons">
                                <button id="bold-text" class="style-btn">B</button>
                                <button id="italic-text" class="style-btn">I</button>
                                <button id="underline-text" class="style-btn">U</button>
                            </div>
                            <label>
                                对齐:
                                <div class="text-align-buttons">
                                    <button id="align-left" class="align-btn">左</button>
                                    <button id="align-center" class="align-btn">中</button>
                                    <button id="align-right" class="align-btn">右</button>
                                </div>
                            </label>
                        </div>
                        
                        <div id="shape-properties" class="property-group" style="display: none;">
                            <label>
                                填充颜色:
                                <input type="color" id="shape-fill-color" value="#4a90e2">
                            </label>
                            <label>
                                边框颜色:
                                <input type="color" id="shape-border-color" value="#000000">
                            </label>
                            <label>
                                边框宽度:
                                <input type="number" id="shape-border-width" min="0" max="20" value="1">
                            </label>
                        </div>
                        
                        <div id="image-properties" class="property-group" style="display: none;">
                            <label>
                                透明度:
                                <input type="range" id="image-opacity" min="0" max="1" step="0.1" value="1">
                            </label>
                            <button id="replace-image">替换图片</button>
                            <input type="file" id="replace-image-upload" accept="image/*" style="display: none;">
                        </div>
                        
                        <div class="element-actions">
                            <button id="bring-forward">上移一层</button>
                            <button id="send-backward">下移一层</button>
                            <button id="delete-element" class="delete-btn">删除元素</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h3>工具箱<span>Pro</span></h3>
                    <p>一站式在线工具集合</p>
                </div>
                <div class="footer-links">
                    <h4>快速链接</h4>
                    <ul>
                        <li><a href="../index.html#tools">所有工具</a></li>
                        <li><a href="../index.html#about">关于我们</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 工具箱Pro. 保留所有权利。</p>
            </div>
        </div>
    </footer>

    <!-- 形状选择模态框 -->
    <div id="shape-selector-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>选择形状</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="shape-grid">
                    <div class="shape-item" data-shape="rectangle">
                        <div class="shape-preview"><div class="shape-rectangle"></div></div>
                        <span>矩形</span>
                    </div>
                    <div class="shape-item" data-shape="circle">
                        <div class="shape-preview"><div class="shape-circle"></div></div>
                        <span>圆形</span>
                    </div>
                    <div class="shape-item" data-shape="triangle">
                        <div class="shape-preview"><div class="shape-triangle"></div></div>
                        <span>三角形</span>
                    </div>
                    <div class="shape-item" data-shape="star">
                        <div class="shape-preview"><div class="shape-star"></div></div>
                        <span>星形</span>
                    </div>
                    <div class="shape-item" data-shape="hexagon">
                        <div class="shape-preview"><div class="shape-hexagon"></div></div>
                        <span>六边形</span>
                    </div>
                    <div class="shape-item" data-shape="heart">
                        <div class="shape-preview"><div class="shape-heart"></div></div>
                        <span>心形</span>
                    </div>
                    <div class="shape-item" data-shape="speech-bubble">
                        <div class="shape-preview"><div class="shape-speech-bubble"></div></div>
                        <span>对话框</span>
                    </div>
                    <div class="shape-item" data-shape="arrow">
                        <div class="shape-preview"><div class="shape-arrow"></div></div>
                        <span>箭头</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 图标选择模态框 -->
    <div id="icon-selector-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>选择图标</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="icon-search">
                    <input type="text" id="icon-search-input" placeholder="搜索图标...">
                </div>
                <div class="icon-categories">
                    <button class="category-btn active" data-category="all">全部</button>
                    <button class="category-btn" data-category="business">商务</button>
                    <button class="category-btn" data-category="communication">通讯</button>
                    <button class="category-btn" data-category="weather">天气</button>
                    <button class="category-btn" data-category="social">社交</button>
                    <button class="category-btn" data-category="technology">科技</button>
                </div>
                <div class="icon-grid" id="icon-grid">
                    <!-- 图标将通过JS动态加载 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 下载选项模态框 -->
    <div id="download-options-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>下载选项</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="download-options">
                    <div class="option-field">
                        <label for="download-format">文件格式</label>
                        <select id="download-format">
                            <option value="png">PNG图片</option>
                            <option value="jpeg">JPEG图片</option>
                            <option value="svg">SVG矢量图</option>
                        </select>
                    </div>
                    <div class="option-field">
                        <label for="download-quality">图片质量</label>
                        <input type="range" id="download-quality" min="1" max="10" value="8">
                        <span id="download-quality-value">8/10</span>
                    </div>
                    <div class="option-field">
                        <label for="download-filename">文件名</label>
                        <input type="text" id="download-filename" value="海报设计">
                    </div>
                </div>
                <div class="download-actions">
                    <button id="confirm-download" class="tool-btn">
                        <i class="ri-download-2-line"></i> 确认下载
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/script.js"></script>
    <script src="js/debug-poster.js"></script>
    <script>
        // 确保调试脚本已完全加载
        window.addEventListener('load', function() {
            console.log('页面完全加载，现在加载主脚本');
            
            // 动态加载主脚本
            const posterScript = document.createElement('script');
            posterScript.src = 'js/poster-maker.js';
            posterScript.onerror = function() {
                console.error('加载主脚本失败! 请检查文件路径是否正确。');
            };
            document.body.appendChild(posterScript);
        });
    </script>
</body>
</html> 